{"version":3,"kind":"Notebook","sha256":"7c44c47f7f0fd7e48132766af5408493c062c1c9947000d572887512a4a2d9db","slug":"setup-iceland2-marbl-2024-newv","location":"/SETUP_Iceland2_MARBL_2024_NewV.ipynb","dependencies":[],"frontmatter":{"title":"ROMS-TOOLS setup for Iceland2_MARBL_2024","content_includes_title":false,"kernelspec":{"name":"roms-tools","display_name":"Python (My roms-tools Kernel)","language":"python"},"exports":[{"format":"ipynb","filename":"SETUP_Iceland2_MARBL_2024_NewV.ipynb","url":"/SETUP_Iceland2_MARBL-73968f3b74849c8df9360ebd5349f735.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First step is to set up the outer grid using ROMS-TOOLS and save the grid file.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NtFW3NK75i"}],"key":"pPbYZx8Ina"}],"key":"rGCNP5q7Oa"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from roms_tools import Grid","key":"uOu4oNtyAi"},{"type":"outputs","id":"pzJZgkoU36KuABZ32fm83","children":[],"key":"DT1oyEBU6h"}],"key":"nse9Bo3k31"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"project='/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/'\ndatasets='/anvil/projects/x-ees250129/Datasets/'\nmodel_name='Iceland2'\nchild_name='Iceland3'\ngrid_path='/anvil/projects/x-ees250129/x-uheede/MATLAB/setup_r2r_phys+bgc/1.Make_grid/Iceland2_grid_MAT1.nc'","key":"G2DVzRPuew"},{"type":"outputs","id":"LBgQb5tGSGWlXSfasFRMB","children":[],"key":"YYZKGO5Yyl"}],"key":"yQzd9zD6iO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"#%%time\n\n#grid = Grid(\n#    nx=512,\n#    ny=512,\n#    size_x=102.4,\n#    size_y=102.4,\n#    center_lon=-22.3,\n#    center_lat=64.39,\n#    rot=0,\n#    topography_source={\n#        \"name\": \"SRTM15\",\n#        \"path\": datasets+\"SRTM15/SRTM15_V2.6.nc\"},\n#    N=40  # number of vertical layers\n#)","key":"y21xKdQKcj"},{"type":"outputs","id":"vGUpUF-38gIjjjYhLzYKc","children":[],"key":"AU4v3vEY0V"}],"key":"OJ2EZsoUBU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"grid = Grid.from_file(grid_path)","key":"PNSArewOiZ"},{"type":"outputs","id":"Wq4XmO1IG18pWBjHEXC46","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:30:26 - WARNING - Vertical coordinates (Cs_r, Cs_w) not found in grid file.\n2025-11-20 17:30:26 - INFO - === Preparing the vertical coordinate system using N = 100, theta_s = 5.0, theta_b = 2.0, hc = 300.0 ===\n2025-11-20 17:30:26 - INFO - Total time: 0.003 seconds\n2025-11-20 17:30:26 - INFO - ========================================================================================================\n"},"children":[],"key":"qoxuryeOyS"}],"key":"x6PIvrRrXM"}],"key":"fkAHqulomh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"grid.plot()","key":"M1HMoMaeJS"},{"type":"outputs","id":"D-Car8OeVO9TkHeJP5svZ","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d1a4567311ba9370ae0d7fe333df953b","path":"/d1a4567311ba9370ae0d7fe333df953b.png"},"text/plain":{"content":"<Figure size 1300x700 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"OAkriQTOxu"}],"key":"GlOU3Jqgye"}],"key":"pctalb55SW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filepath = project+model_name+'_grid.nc'","key":"cYs1HjfjHs"},{"type":"outputs","id":"KJ0Gy2YA5T16xI3nFaEoG","children":[],"key":"ZAFmL1RkkQ"}],"key":"jUYVZiIouS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"grid.update_vertical_coordinate(N=60, theta_s=5.0, theta_b=5.0, hc=5.0, verbose=False)","key":"owExM6pSRE"},{"type":"outputs","id":"mSMFrdp5AVTuAkCsQ3dEI","children":[],"key":"tQoMlYtESw"}],"key":"PefrshJtxA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"grid.plot_vertical_coordinate(eta=250, max_nr_layer_contours=10,)","key":"Lj5O7z0zSE"},{"type":"outputs","id":"Q4w6EYYCj82vQAk0393Cv","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7fb7e66c8d1eeebfea4fea8332cbef9b","path":"/7fb7e66c8d1eeebfea4fea8332cbef9b.png"},"text/plain":{"content":"<Figure size 900x500 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"bGkPtJPtzM"}],"key":"VSPSPpkwVg"}],"key":"xVU33AuXJ6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"grid.plot_vertical_coordinate(eta=250, max_nr_layer_contours=10,)","key":"eChkZ20O5P"},{"type":"outputs","id":"5ulgmEH9VIlkUixBRwDJH","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7fb7e66c8d1eeebfea4fea8332cbef9b","path":"/7fb7e66c8d1eeebfea4fea8332cbef9b.png"},"text/plain":{"content":"<Figure size 900x500 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"GuU8BZCXty"}],"key":"ePUReJn8ay"}],"key":"bU5soIMMT4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"grid.save(filepath)","key":"ZZQc81CWDI"},{"type":"outputs","id":"1nQzNkqS-UngTKc8BFQCa","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:30:27 - INFO - Writing the following NetCDF files:\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_grid.nc\n"},"children":[],"key":"Fgz5MUJ12M"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":46,"metadata":{},"data":{"text/plain":{"content":"[PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_grid.nc')]","content_type":"text/plain"}}},"children":[],"key":"lJa3FjAmct"}],"key":"tFVjah18Qz"}],"key":"RJDhESjt32"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tpxo_path = datasets+\"TPXO/TPXO10.v2/\"\ntpxo_dict = {\n    \"grid\": tpxo_path + \"grid_tpxo10v2.nc\",\n    \"h\": tpxo_path + \"h_tpxo10.v2.nc\",\n    \"u\": tpxo_path + \"u_tpxo10.v2.nc\",\n}","key":"V4vhk145f8"},{"type":"outputs","id":"SwRSeG5kwcOX-bwV3Htgk","children":[],"key":"rZTPmyHhBH"}],"key":"xMSzdXvVl1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Next, we set up tidal forcing:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"seaCMkaOLk"}],"key":"zC0ccmKg5S"}],"key":"ENn7Tg6bBq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from roms_tools import TidalForcing","key":"VQf3t2hgVi"},{"type":"outputs","id":"X4qRwUU7_f4WMSwH3pIyL","children":[],"key":"jzAtRlfe39"}],"key":"IaYDwlOSd5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from datetime import datetime","key":"JFXrX7wjJp"},{"type":"outputs","id":"Rb6kIwMNdFokSg5wV_UVE","children":[],"key":"zxAONylkN7"}],"key":"YzC12wlNC1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"model_reference_date = datetime(2000, 1, 1)","key":"KaEFS3KVJv"},{"type":"outputs","id":"Ejsq4XeMTZs9ayJB-YdEy","children":[],"key":"ycvNoVuop3"}],"key":"fAD1lo61aY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"\ntidal_forcing = TidalForcing(\n    grid=grid,\n    source={\"name\": \"TPXO\", \"path\": tpxo_dict},\n    ntides=15,  # Number of constituents to consider <= 15. Default is 10.\n    model_reference_date=model_reference_date,  # Model reference date. Default is January 1, 2000.\n    use_dask=True\n)","key":"GbjKYxAPW8"},{"type":"outputs","id":"OVytCMXKvkeuFI6MJgNm3","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:30:31 - INFO - Applying 2D horizontal fill to the source data before regridding.\n2025-11-20 17:30:31 - INFO - Applying 2D horizontal fill to the source data before regridding.\n2025-11-20 17:30:31 - INFO - Applying 2D horizontal fill to the source data before regridding.\n2025-11-20 17:30:31 - INFO - Applying 2D horizontal fill to the source data before regridding.\n"},"children":[],"key":"g5hhYKKGSQ"}],"key":"K2aRjxgsGd"}],"key":"Snpeiaq8mR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filepath = project+model_name+\"_tides.nc\"","key":"KMSbkyRs9y"},{"type":"outputs","id":"NtcKUbioks1R3EKtKBnQ7","children":[],"key":"mHg01tNfVg"}],"key":"oQrgAj7yR6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%time tidal_forcing.save(filepath)","key":"wotcQy1HCP"},{"type":"outputs","id":"TJpaBphX6xl5t6frorMVH","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:30:32 - INFO - Writing the following NetCDF files:\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_tides.nc\n"},"children":[],"key":"i6mD75Pnyy"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[########################################] | 100% Completed | 2.06 sms\nCPU times: user 4.09 s, sys: 975 ms, total: 5.06 s\nWall time: 2.17 s\n"},"children":[],"key":"KZFjGw0XQz"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":53,"metadata":{},"data":{"text/plain":{"content":"[PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_tides.nc')]","content_type":"text/plain"}}},"children":[],"key":"aLR7TrAVyQ"}],"key":"uMnySLqSbA"}],"key":"Fz4GI93u5V"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"For the surface forcing, we use ERA5 plus the unified BGC dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Nb3SIhCRK4"}],"key":"H08NFLCrJL"}],"key":"tEILlNpzct"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from roms_tools import Grid, SurfaceForcing","key":"ZfWGzFD2LR"},{"type":"outputs","id":"-HpTvCfrr6M10A-jadJ6Q","children":[],"key":"Pdezf4PxD5"}],"key":"cIBpiBQPgr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"start_time = datetime(2024, 7, 1)\nend_time = datetime(2024, 12, 31)","key":"IxjThRmOUA"},{"type":"outputs","id":"u5P6twxhD3rHEOT_Urf6v","children":[],"key":"lfKnePWgfd"}],"key":"a2P2JyHXjS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"surface_forcing_kwargs = {\n    \"grid\": grid,\n    \"start_time\": start_time,\n    \"end_time\": end_time,\n    \"type\": \"physics\",\n    \"model_reference_date\": datetime(2000, 1, 1), # this is the default\n}","key":"fyLUFhgA4I"},{"type":"outputs","id":"8A26wBzhjOMmJ2IKzt_D_","children":[],"key":"CfwXrMroTD"}],"key":"NxptVi7chD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%time\n\nsurface_forcing = SurfaceForcing(\n    **surface_forcing_kwargs,\n    source={\"name\": \"ERA5\"},\n    use_dask=True,\n)","key":"WGEOiCfAPd"},{"type":"outputs","id":"SE-GRXHnL2hzxvh7jMNzL","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:30:34 - INFO - No path specified for ERA5 source; defaulting to ARCO ERA5 dataset on Google Cloud.\n2025-11-20 17:32:19 - INFO - Data will be interpolated onto the grid coarsened by factor 2. Remember to set `interp_frc = 1` in your `bulk_frc.opt` ROMS option file.\n2025-11-20 17:32:19 - INFO - Applying 2D horizontal fill to the source data before regridding.\n2025-11-20 17:32:22 - INFO - Applying 2D horizontal fill to the source data before regridding.\n"},"children":[],"key":"rLlw7mHRaO"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"CPU times: user 2min 37s, sys: 9.44 s, total: 2min 46s\nWall time: 2min 49s\n"},"children":[],"key":"oGnYeM7TDY"}],"key":"DxtKvRmneZ"}],"key":"gIfOc7hjqU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"surface_forcing.plot(\"uwnd\", time=0)","key":"HQHgzsKLx6"},{"type":"outputs","id":"jBUQI62-X0TFugCXupCXr","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[########################################] | 100% Completed | 101.63 ms\n"},"children":[],"key":"rKq8IuQIrh"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a6e68494143f0e910caaf2388a2ee037","path":"/a6e68494143f0e910caaf2388a2ee037.png"},"text/plain":{"content":"<Figure size 1300x700 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"zRancFJlKQ"}],"key":"WkOf2QLlRG"}],"key":"NNLK6B7cI5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"#cesm_bgc_path = \"/global/cfs/projectdirs/m4746/Datasets/CESM_REGRIDDED/CESM-surface_lowres_regridded.nc\"\nunified_bgc_path = datasets+\"UNIFIED/BGCdataset.nc\"","key":"MTQ2xDasme"},{"type":"outputs","id":"gI6DNHPZ5LZjfgua4Yycp","children":[],"key":"g4Bd71EXWJ"}],"key":"sCSmJaGyne"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%time\n\nunified_bgc_surface_forcing = SurfaceForcing(\n    grid=grid,\n    start_time=start_time,\n    end_time=end_time,\n    source={\"name\": \"UNIFIED\", \"path\": unified_bgc_path, \"climatology\": True},\n    type=\"bgc\",\n    use_dask=True,\n)","key":"yYBYCmvGI7"},{"type":"outputs","id":"-3VwISZRv7D7vXA-Jd-pJ","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:33:27 - INFO - Data will be interpolated onto the grid coarsened by factor 2. Remember to set `interp_frc = 1` in your `bgc.opt` ROMS option file.\n2025-11-20 17:33:27 - INFO - 2D horizontal fill is skipped because source data already contains filled values.\n"},"children":[],"key":"DgZwJOJw52"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"CPU times: user 142 ms, sys: 3.95 ms, total: 146 ms\nWall time: 607 ms\n"},"children":[],"key":"XNPaGaa2sz"}],"key":"nPerFtDzVV"}],"key":"Pn14rOZOjM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filepath = project+model_name+\"_surface_forcing2024.nc\"","key":"riyPqo5P6v"},{"type":"outputs","id":"GvhYVe8eQDqObbF1Gvtyg","children":[],"key":"nBJsevBqBx"}],"key":"sE1HEB0Uxa"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%time surface_forcing.save(filepath, group=True)","key":"CnR3zSDfdN"},{"type":"outputs","id":"gVInofJ1oLmhokB3xtP_z","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:33:30 - INFO - Writing the following NetCDF files:\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202407.nc\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202408.nc\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202409.nc\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202410.nc\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202411.nc\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202412.nc\n"},"children":[],"key":"tRWtPXWLxS"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[########################################] | 100% Completed | 78.50 s\n[########################################] | 100% Completed | 81.07 s\n[########################################] | 100% Completed | 77.07 s\n[########################################] | 100% Completed | 82.19 s\n[########################################] | 100% Completed | 81.61 s\n[########################################] | 100% Completed | 77.83 s\nCPU times: user 13min 29s, sys: 2min 10s, total: 15min 39s\nWall time: 9min 17s\n"},"children":[],"key":"LJ3XgnagZJ"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":62,"metadata":{},"data":{"text/plain":{"content":"[PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202407.nc'),\n PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202408.nc'),\n PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202409.nc'),\n PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202410.nc'),\n PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202411.nc'),\n PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_surface_forcing2024_202412.nc')]","content_type":"text/plain"}}},"children":[],"key":"uuY516Vyyb"}],"key":"UZUxcEhvAq"}],"key":"goCQ0vuxGe"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filepath = project+model_name+\"_bgc_surface_forcing.nc\"","key":"AeKVT6pF48"},{"type":"outputs","id":"-JHMhkX9hP3zW2SXYKTn1","children":[],"key":"vKKNIjqawD"}],"key":"BwsG7Zcrvb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%time unified_bgc_surface_forcing.save(filepath)","key":"QMtMpOHMsC"},{"type":"outputs","id":"hP6yn_I39a8p_FUD6uAlb","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:42:44 - INFO - Writing the following NetCDF files:\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_bgc_surface_forcing_clim.nc\n"},"children":[],"key":"hxedRqF79c"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[########################################] | 100% Completed | 407.33 ms\nCPU times: user 212 ms, sys: 23.8 ms, total: 236 ms\nWall time: 446 ms\n"},"children":[],"key":"l8YM4733x5"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":64,"metadata":{},"data":{"text/plain":{"content":"[PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_bgc_surface_forcing_clim.nc')]","content_type":"text/plain"}}},"children":[],"key":"wrlB4WoDfo"}],"key":"EWZ5hPcS2x"}],"key":"dmU4OozCe4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Next we generate the initial file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eWPQLR0ehP"}],"key":"wlWJS8Y7aU"}],"key":"PtxwnJcjW8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from roms_tools import Grid, ChildGrid","key":"QF3OKjcO5Q"},{"type":"outputs","id":"JS1-K-3p4YBfajOqbxlHV","children":[],"key":"LcfrRec8lf"}],"key":"LnXxr2eLvZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"parent_grid = grid","key":"TCdskrNy2k"},{"type":"outputs","id":"po41d-akIl3F0CrKvhss8","children":[],"key":"ehL2NuYzpE"}],"key":"se42pxGdyC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"child_grid_parameters = {\n    \"nx\": 512,\n    \"ny\": 512,\n    \"size_x\": 102.4/4,\n    \"size_y\": 102.4/4,\n    \"center_lon\": -21.75,\n    \"center_lat\": 64.3,\n    \"rot\": 0,\n    \"topography_source\": {\n        \"name\": \"SRTM15\",\n        \"path\": datasets+\"SRTM15/SRTM15_V2.6.nc\"},\n    \"N\":40  # number of vertical layers\n}","key":"dVj3zXZPlK"},{"type":"outputs","id":"qw7nPZOcmPpIkOwTI3xGb","children":[],"key":"IZgy73Fh4j"}],"key":"PBVDXVDEhR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"child_grid = ChildGrid(\n    **child_grid_parameters,\n    parent_grid=parent_grid,\n    boundaries={\n        \"south\": True,\n        \"east\": False,\n        \"north\": False,\n        \"west\": True,\n    },  # this is the default\n    metadata={\"prefix\": \"child\", \"period\": 1800.0}  # this is the default\n)","key":"dLFm0hbJnZ"},{"type":"outputs","id":"BMMdcU8q1wJF1Jc8G-_Yq","children":[],"key":"pN7XDQGyvC"}],"key":"CsYVi5xY8R"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"child_grid.plot_nesting(with_dim_names=True)","key":"cxlHmYBayU"},{"type":"outputs","id":"qFPuWfGn9W4wPaudrGaxT","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"645c8aa39998561c973271ff8f814b18","path":"/645c8aa39998561c973271ff8f814b18.png"},"text/plain":{"content":"<Figure size 1300x700 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"bDP2MpfnXj"}],"key":"YrMaJz2VQa"}],"key":"BGhi7xTNNg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filepath = project+child_name+\"_grid.nc\"\nchild_grid.save(filepath=filepath)","key":"DPbihmob3Q"},{"type":"outputs","id":"nAKhU56zutC833INASGqC","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:45:25 - INFO - Writing the following NetCDF files:\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland3_grid.nc\n"},"children":[],"key":"DjaCqDRhwM"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":70,"metadata":{},"data":{"text/plain":{"content":"[PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland3_grid.nc')]","content_type":"text/plain"}}},"children":[],"key":"ZiigOeXqLL"}],"key":"LZN6HdNXUR"}],"key":"byFXej5pq8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filepath_nesting = project+child_name+\"_edata.nc\"","key":"ugey48Hnhn"},{"type":"outputs","id":"3FQaa7E3QVs-nYEKFWD5Y","children":[],"key":"B2YP8eZX51"}],"key":"ZSuJyIZiCZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"child_grid.save_nesting(filepath=filepath_nesting)","key":"hc5Q0nBJJd"},{"type":"outputs","id":"9OXwXsUZWHS66LMRElDe6","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:45:25 - INFO - Writing the following NetCDF files:\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland3_edata.nc\n"},"children":[],"key":"A1kVUK9KOw"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":72,"metadata":{},"data":{"text/plain":{"content":"[PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland3_edata.nc')]","content_type":"text/plain"}}},"children":[],"key":"JiK2g7VGgw"}],"key":"OxI6gP6hg6"}],"key":"aPlTVj2kl7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import xarray as xr","key":"DGFKVdSuhc"},{"type":"outputs","id":"IlJkBjvK2hpoe25M6cAfs","children":[],"key":"t5iqfMN1Ux"}],"key":"xyf6vgm1pQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from roms_tools import RiverForcing, Grid","key":"MZGkHPCeAL"},{"type":"outputs","id":"dpD6gqQgvhyV5FKfg7e7K","children":[],"key":"x6occ16I4N"}],"key":"CZgoUnzlIt"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from datetime import datetime","key":"jCZZaZaqou"},{"type":"outputs","id":"jG6FX3GoGyAsLd1nDDN_o","children":[],"key":"wXZysQNOHb"}],"key":"tV4Ff2UcrO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"riv0=xr.open_dataset('/anvil/projects/x-ees250129/Datasets/Iceland_river_dataset/Hvalfjordur_rivers_2023.nc')","key":"jldut8gC2M"},{"type":"outputs","id":"unvF4Np02h5SSmpJHfGi9","children":[],"key":"Gf2nNiSnWy"}],"key":"FEtKALdfD3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"riv0['time']=[202401., 202402., 202403., 202404., 202405., 202406., 202407., 202408.,\n       202409., 202410., 202411., 202412.]","key":"lrYclmlCO4"},{"type":"outputs","id":"VFZDb-xvQqiTKBB2sgtx_","children":[],"key":"WkQqqcmnEJ"}],"key":"nMLByqJJJf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"riv0.to_netcdf('/anvil/projects/x-ees250129/Datasets/Iceland_river_dataset/Hvalfjordur_rivers_2024.nc')","key":"LtUILoF90l"},{"type":"outputs","id":"wk1-Gwfy7sSSRbU2UFFQR","children":[],"key":"ZFuEEMlqHP"}],"key":"fGHxg4kwOM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"start_time = datetime(2024, 1, 1)\nend_time = datetime(2024, 12, 31)","key":"Vkxgwn3Hyw"},{"type":"outputs","id":"kqXmDUmwLeiD0O0zCm3sc","children":[],"key":"FIbiHR7fX5"}],"key":"bv1VCD1C06"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"river_forcing = RiverForcing(\n    grid=grid,\n    start_time=start_time,\n    end_time=end_time,\n    model_reference_date=datetime(2000, 1, 1), # this is the default\n    include_bgc=True,\n    source = {\n    \"name\": \"DAI\",\n    \"path\": \"/anvil/projects/x-ees250129/Datasets/Iceland_river_dataset/Hvalfjordur_rivers_2024.nc\",\n    \"climatology\": False\n}\n    \n)","key":"a89o8Efw2l"},{"type":"outputs","id":"qmYdwN6Lp7z5DlOFJ3l0S","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:55:33 - INFO - No river indices provided. Identify all rivers within the ROMS domain and assign each of them to the nearest coastal point.\n2025-11-20 17:55:33 - WARNING - No records found at or before the start_time.\n2025-11-20 17:55:33 - WARNING - No records found at or after the end_time.\n2025-11-20 17:55:33 - INFO - Creating 1 synthetic river(s) to handle overlapping entries.\n"},"children":[],"key":"gWvmg2Lt7b"}],"key":"XOLRHFuqKC"}],"key":"YfpFnL7CKX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"river_forcing.ds","key":"e0a66ibmxP"},{"type":"outputs","id":"36y6-JBh54_lobdy35E3n","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":83,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"dd2036d816516d753c0446a6c7309a06","path":"/dd2036d816516d753c0446a6c7309a06.html"},"text/plain":{"content":"<xarray.Dataset> Size: 2MB\nDimensions:           (nriver: 15, river_time: 12, ntracers: 34, eta_rho: 514,\n                       xi_rho: 514)\nCoordinates:\n    river_name        (nriver) object 120B 'HVAL1' 'HVAL2' ... 'overlap_1'\n  * nriver            (nriver) int64 120B 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15\n    abs_time          (river_time) datetime64[ns] 96B 2024-01-15 ... 2024-12-15\n  * river_time        (river_time) float64 96B 8.78e+03 8.811e+03 ... 9.115e+03\n    tracer_name       (ntracers) <U11 1kB 'temp' 'salt' ... 'diazP' 'diazFe'\n    tracer_unit       (ntracers) <U15 2kB 'degrees Celsius' 'PSU' ... 'mmol/m^3'\n    tracer_long_name  (ntracers) <U43 6kB 'potential temperature' ... 'diazot...\nDimensions without coordinates: ntracers, eta_rho, xi_rho\nData variables:\n    river_volume      (river_time, nriver) float64 1kB 0.09365 0.1489 ... 1.691\n    river_tracer      (river_time, ntracers, nriver) float64 49kB 17.0 ... 1....\n    river_index       (eta_rho, xi_rho) float32 1MB 0.0 0.0 0.0 ... 0.0 0.0 0.0\n    river_fraction    (eta_rho, xi_rho) float32 1MB 0.0 0.0 0.0 ... 0.0 0.0 0.0","content_type":"text/plain"}}},"children":[],"key":"sFC0t15TNb"}],"key":"L14Xi2hC4Q"}],"key":"mROreXiGPb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"river_forcing.plot_locations()","key":"Bf7JaEb3NB"},{"type":"outputs","id":"7Py-Lwmw8YGqqX3M8IJDL","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d62440724b7d79337b81034c115bf799","path":"/d62440724b7d79337b81034c115bf799.png"},"text/plain":{"content":"<Figure size 1300x1300 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"YBSPGC2tTK"}],"key":"nZwpUYDuIZ"}],"key":"OavhF8Z5JL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"river_forcing.plot(\"river_volume\")","key":"MlFh0phUxt"},{"type":"outputs","id":"VJisPCEDTdTL5-W8Knd92","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"40006710806ff99db00cf7ca39e47275","path":"/40006710806ff99db00cf7ca39e47275.png"},"text/plain":{"content":"<Figure size 900x500 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"FlLlkvUSKt"}],"key":"CrmaBzejVO"}],"key":"WWh3BlMYLQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filepath = project+model_name+\"_rivers.nc\"","key":"ckaDTjN59s"},{"type":"outputs","id":"RxQMsETxrc0OlZ7vqHTfQ","children":[],"key":"ZXJ2Vlq6Qp"}],"key":"Js17fpWvxP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"river_forcing.save(filepath=filepath)","key":"QbrJCA9eVa"},{"type":"outputs","id":"yxvqRl7Rt4G6Zgkcbr-0v","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-20 17:55:44 - INFO - Writing the following NetCDF files:\n/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_rivers.nc\n"},"children":[],"key":"nbe2DxSr2c"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":87,"metadata":{},"data":{"text/plain":{"content":"[PosixPath('/anvil/projects/x-ees250129/x-uheede/INPUT_files/Iceland2_MARBL_2024_NewV/Iceland2_rivers.nc')]","content_type":"text/plain"}}},"children":[],"key":"Xjj5JnLtyn"}],"key":"GwhmMytyNE"}],"key":"O44b14sAQp"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Making some customizations to the river forcing (we have observed values of alk and DIC in the rivers and we also know the water is not going to be 17 degrees warm!). We add nutrients (observed values in fjord before spring bloom) and we add observed riverine values of Alk and DIC. These should be subject to change.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wuwiUDsJy7"}],"key":"b6BQL4uY8r"}],"key":"bs5wKIc7WO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import xarray as xr\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nriv=xr.open_dataset(filepath)\nriv.load()","key":"D5LsqGj0tv"},{"type":"outputs","id":"JdsknZXYvDm611tcL53iZ","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"/tmp/ipykernel_3614130/3130065273.py:5: FutureWarning: In a future version, xarray will not decode timedelta values based on the presence of a timedelta-like units attribute by default. Instead it will rely on the presence of a timedelta64 dtype attribute, which is now xarray's default way of encoding timedelta64 values. To continue decoding timedeltas based on the presence of a timedelta-like units attribute, users will need to explicitly opt-in by passing True or CFTimedeltaCoder(decode_via_units=True) to decode_timedelta. To silence this warning, set decode_timedelta to True, False, or a 'CFTimedeltaCoder' instance.\n  riv=xr.open_dataset(filepath)\n"},"children":[],"key":"i1lDiuRKPo"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":88,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"a276fc099b56e7870acfd9d8ee13af15","path":"/a276fc099b56e7870acfd9d8ee13af15.html"},"text/plain":{"content":"<xarray.Dataset> Size: 2MB\nDimensions:           (river_time: 12, nriver: 15, ntracers: 34, eta_rho: 514,\n                       xi_rho: 514)\nCoordinates:\n    river_name        (nriver) object 120B 'HVAL1' 'HVAL2' ... 'overlap_1'\n  * nriver            (nriver) int32 60B 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15\n    abs_time          (river_time) datetime64[ns] 96B 2024-01-15 ... 2024-12-15\n  * river_time        (river_time) timedelta64[ns] 96B 8780 days ... 9115 days\n    tracer_name       (ntracers) object 272B 'temp' 'salt' ... 'diazP' 'diazFe'\n    tracer_unit       (ntracers) object 272B 'degrees Celsius' ... 'mmol/m^3'\n    tracer_long_name  (ntracers) object 272B 'potential temperature' ... 'dia...\nDimensions without coordinates: ntracers, eta_rho, xi_rho\nData variables:\n    river_volume      (river_time, nriver) float64 1kB 0.09365 0.1489 ... 1.691\n    river_tracer      (river_time, ntracers, nriver) float64 49kB 17.0 ... 1....\n    river_index       (eta_rho, xi_rho) float32 1MB 0.0 0.0 0.0 ... 0.0 0.0 0.0\n    river_fraction    (eta_rho, xi_rho) float32 1MB 0.0 0.0 0.0 ... 0.0 0.0 0.0","content_type":"text/plain"}}},"children":[],"key":"QpAwgmL2Wc"}],"key":"IZ7rBdiGKQ"}],"key":"EiDL3dNJdA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"#riv['river_time']=pd.to_datetime(['2024-01-15T00:00:00.000000000', '2024-02-15T00:00:00.000000000',\n#       '2024-03-15T00:00:00.000000000', '2024-04-15T00:00:00.000000000',\n#       '2024-05-15T00:00:00.000000000', '2024-06-15T00:00:00.000000000',\n#       '2024-07-15T00:00:00.000000000', '2024-08-15T00:00:00.000000000',\n#       '2024-09-15T00:00:00.000000000', '2024-10-15T00:00:00.000000000',\n#       '2024-11-15T00:00:00.000000000', '2024-12-15T00:00:00.000000000'])\n","key":"Fma8wEWMkC"},{"type":"outputs","id":"I_ECpEoIsUTAIS_Yb3FFb","children":[],"key":"F1tVA6X5AG"}],"key":"azy1z3srTW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"riv['river_time']","key":"TJK4YqgbqY"},{"type":"outputs","id":"BLXbGn3D1fOfRPFjtsgx4","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":89,"metadata":{},"data":{"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;river_time&#x27; (river_time: 12)&gt; Size: 96B\narray([758592000000000000, 761270400000000000, 763776000000000000,\n       766454400000000000, 769046400000000000, 771724800000000000,\n       774316800000000000, 776995200000000000, 779673600000000000,\n       782265600000000000, 784944000000000000, 787536000000000000],\n      dtype=&#x27;timedelta64[ns]&#x27;)\nCoordinates:\n    abs_time    (river_time) datetime64[ns] 96B 2024-01-15 ... 2024-12-15\n  * river_time  (river_time) timedelta64[ns] 96B 8780 days ... 9115 days\nAttributes:\n    long_name:  relative time: days since 2000-01-01 00:00:00</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'river_time'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>river_time</span>: 12</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-90aec07c-cf06-4b26-91d2-d2e62a1a0f17' class='xr-array-in' type='checkbox' checked><label for='section-90aec07c-cf06-4b26-91d2-d2e62a1a0f17' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>8780 days 8811 days 8840 days ... 9054 days 9085 days 9115 days</span></div><div class='xr-array-data'><pre>array([758592000000000000, 761270400000000000, 763776000000000000,\n       766454400000000000, 769046400000000000, 771724800000000000,\n       774316800000000000, 776995200000000000, 779673600000000000,\n       782265600000000000, 784944000000000000, 787536000000000000],\n      dtype=&#x27;timedelta64[ns]&#x27;)</pre></div></div></li><li class='xr-section-item'><input id='section-e7de3bb3-9cdb-410e-84d3-5ed4ae061474' class='xr-section-summary-in' type='checkbox'  checked><label for='section-e7de3bb3-9cdb-410e-84d3-5ed4ae061474' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>abs_time</span></div><div class='xr-var-dims'>(river_time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2024-01-15 ... 2024-12-15</div><input id='attrs-2fb93228-0dd5-40ef-b30c-8d527f789f42' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2fb93228-0dd5-40ef-b30c-8d527f789f42' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6ad2c57f-455a-4ae4-b641-1b31d3a63505' class='xr-var-data-in' type='checkbox'><label for='data-6ad2c57f-455a-4ae4-b641-1b31d3a63505' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>absolute time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2024-01-15T00:00:00.000000000&#x27;, &#x27;2024-02-15T00:00:00.000000000&#x27;,\n       &#x27;2024-03-15T00:00:00.000000000&#x27;, &#x27;2024-04-15T00:00:00.000000000&#x27;,\n       &#x27;2024-05-15T00:00:00.000000000&#x27;, &#x27;2024-06-15T00:00:00.000000000&#x27;,\n       &#x27;2024-07-15T00:00:00.000000000&#x27;, &#x27;2024-08-15T00:00:00.000000000&#x27;,\n       &#x27;2024-09-15T00:00:00.000000000&#x27;, &#x27;2024-10-15T00:00:00.000000000&#x27;,\n       &#x27;2024-11-15T00:00:00.000000000&#x27;, &#x27;2024-12-15T00:00:00.000000000&#x27;],\n      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>river_time</span></div><div class='xr-var-dims'>(river_time)</div><div class='xr-var-dtype'>timedelta64[ns]</div><div class='xr-var-preview xr-preview'>8780 days 8811 days ... 9115 days</div><input id='attrs-57962b6a-7b31-4dbc-b565-85fe81b5e823' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-57962b6a-7b31-4dbc-b565-85fe81b5e823' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5a748f79-50f1-485d-a01c-911a663d79e8' class='xr-var-data-in' type='checkbox'><label for='data-5a748f79-50f1-485d-a01c-911a663d79e8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>relative time: days since 2000-01-01 00:00:00</dd></dl></div><div class='xr-var-data'><pre>array([758592000000000000, 761270400000000000, 763776000000000000,\n       766454400000000000, 769046400000000000, 771724800000000000,\n       774316800000000000, 776995200000000000, 779673600000000000,\n       782265600000000000, 784944000000000000, 787536000000000000],\n      dtype=&#x27;timedelta64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-990cdc97-e0b1-4663-8309-e1af9870bbbb' class='xr-section-summary-in' type='checkbox'  ><label for='section-990cdc97-e0b1-4663-8309-e1af9870bbbb' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>river_time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-b7cc1d65-1d8e-496a-8a6b-17a3ad3b464c' class='xr-index-data-in' type='checkbox'/><label for='index-b7cc1d65-1d8e-496a-8a6b-17a3ad3b464c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(TimedeltaIndex([&#x27;8780 days&#x27;, &#x27;8811 days&#x27;, &#x27;8840 days&#x27;, &#x27;8871 days&#x27;,\n                &#x27;8901 days&#x27;, &#x27;8932 days&#x27;, &#x27;8962 days&#x27;, &#x27;8993 days&#x27;,\n                &#x27;9024 days&#x27;, &#x27;9054 days&#x27;, &#x27;9085 days&#x27;, &#x27;9115 days&#x27;],\n               dtype=&#x27;timedelta64[ns]&#x27;, name=&#x27;river_time&#x27;, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-af7722ad-893f-4c05-b615-a4e75bdd8218' class='xr-section-summary-in' type='checkbox'  checked><label for='section-af7722ad-893f-4c05-b615-a4e75bdd8218' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>relative time: days since 2000-01-01 00:00:00</dd></dl></div></li></ul></div></div>","content_type":"text/html"},"text/plain":{"content":"<xarray.DataArray 'river_time' (river_time: 12)> Size: 96B\narray([758592000000000000, 761270400000000000, 763776000000000000,\n       766454400000000000, 769046400000000000, 771724800000000000,\n       774316800000000000, 776995200000000000, 779673600000000000,\n       782265600000000000, 784944000000000000, 787536000000000000],\n      dtype='timedelta64[ns]')\nCoordinates:\n    abs_time    (river_time) datetime64[ns] 96B 2024-01-15 ... 2024-12-15\n  * river_time  (river_time) timedelta64[ns] 96B 8780 days ... 9115 days\nAttributes:\n    long_name:  relative time: days since 2000-01-01 00:00:00","content_type":"text/plain"}}},"children":[],"key":"Y2K1PPnEst"}],"key":"ISDZJUOyFD"}],"key":"IW8kOyqMK5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"riv['tracer_name']","key":"Rckwb5ewVi"},{"type":"outputs","id":"lw0c74gGp0SHxD067N7hB","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":90,"metadata":{},"data":{"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;tracer_name&#x27; (ntracers: 34)&gt; Size: 272B\narray([&#x27;temp&#x27;, &#x27;salt&#x27;, &#x27;PO4&#x27;, &#x27;NO3&#x27;, &#x27;SiO3&#x27;, &#x27;NH4&#x27;, &#x27;Fe&#x27;, &#x27;Lig&#x27;, &#x27;O2&#x27;,\n       &#x27;DIC&#x27;, &#x27;DIC_ALT_CO2&#x27;, &#x27;ALK&#x27;, &#x27;ALK_ALT_CO2&#x27;, &#x27;DOC&#x27;, &#x27;DON&#x27;, &#x27;DOP&#x27;,\n       &#x27;DOPr&#x27;, &#x27;DONr&#x27;, &#x27;DOCr&#x27;, &#x27;zooC&#x27;, &#x27;spChl&#x27;, &#x27;spC&#x27;, &#x27;spP&#x27;, &#x27;spFe&#x27;,\n       &#x27;spCaCO3&#x27;, &#x27;diatChl&#x27;, &#x27;diatC&#x27;, &#x27;diatP&#x27;, &#x27;diatFe&#x27;, &#x27;diatSi&#x27;,\n       &#x27;diazChl&#x27;, &#x27;diazC&#x27;, &#x27;diazP&#x27;, &#x27;diazFe&#x27;], dtype=object)\nCoordinates:\n    tracer_name       (ntracers) object 272B &#x27;temp&#x27; &#x27;salt&#x27; ... &#x27;diazP&#x27; &#x27;diazFe&#x27;\n    tracer_unit       (ntracers) object 272B &#x27;degrees Celsius&#x27; ... &#x27;mmol/m^3&#x27;\n    tracer_long_name  (ntracers) object 272B &#x27;potential temperature&#x27; ... &#x27;dia...\nDimensions without coordinates: ntracers\nAttributes:\n    long_name:  Tracer name</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'tracer_name'</div><ul class='xr-dim-list'><li><span>ntracers</span>: 34</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-5486f83f-4607-4e98-bb32-2713f6134417' class='xr-array-in' type='checkbox' checked><label for='section-5486f83f-4607-4e98-bb32-2713f6134417' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>&#x27;temp&#x27; &#x27;salt&#x27; &#x27;PO4&#x27; &#x27;NO3&#x27; ... &#x27;diazChl&#x27; &#x27;diazC&#x27; &#x27;diazP&#x27; &#x27;diazFe&#x27;</span></div><div class='xr-array-data'><pre>array([&#x27;temp&#x27;, &#x27;salt&#x27;, &#x27;PO4&#x27;, &#x27;NO3&#x27;, &#x27;SiO3&#x27;, &#x27;NH4&#x27;, &#x27;Fe&#x27;, &#x27;Lig&#x27;, &#x27;O2&#x27;,\n       &#x27;DIC&#x27;, &#x27;DIC_ALT_CO2&#x27;, &#x27;ALK&#x27;, &#x27;ALK_ALT_CO2&#x27;, &#x27;DOC&#x27;, &#x27;DON&#x27;, &#x27;DOP&#x27;,\n       &#x27;DOPr&#x27;, &#x27;DONr&#x27;, &#x27;DOCr&#x27;, &#x27;zooC&#x27;, &#x27;spChl&#x27;, &#x27;spC&#x27;, &#x27;spP&#x27;, &#x27;spFe&#x27;,\n       &#x27;spCaCO3&#x27;, &#x27;diatChl&#x27;, &#x27;diatC&#x27;, &#x27;diatP&#x27;, &#x27;diatFe&#x27;, &#x27;diatSi&#x27;,\n       &#x27;diazChl&#x27;, &#x27;diazC&#x27;, &#x27;diazP&#x27;, &#x27;diazFe&#x27;], dtype=object)</pre></div></div></li><li class='xr-section-item'><input id='section-4a35d5aa-917f-4099-b4b5-dc9afea2f66a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-4a35d5aa-917f-4099-b4b5-dc9afea2f66a' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>tracer_name</span></div><div class='xr-var-dims'>(ntracers)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;temp&#x27; &#x27;salt&#x27; ... &#x27;diazP&#x27; &#x27;diazFe&#x27;</div><input id='attrs-deba5e38-5275-4ce8-a983-1c3765627e7f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-deba5e38-5275-4ce8-a983-1c3765627e7f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4c51b575-0418-486d-a30d-f23642aea4dc' class='xr-var-data-in' type='checkbox'><label for='data-4c51b575-0418-486d-a30d-f23642aea4dc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Tracer name</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;temp&#x27;, &#x27;salt&#x27;, &#x27;PO4&#x27;, &#x27;NO3&#x27;, &#x27;SiO3&#x27;, &#x27;NH4&#x27;, &#x27;Fe&#x27;, &#x27;Lig&#x27;, &#x27;O2&#x27;,\n       &#x27;DIC&#x27;, &#x27;DIC_ALT_CO2&#x27;, &#x27;ALK&#x27;, &#x27;ALK_ALT_CO2&#x27;, &#x27;DOC&#x27;, &#x27;DON&#x27;, &#x27;DOP&#x27;,\n       &#x27;DOPr&#x27;, &#x27;DONr&#x27;, &#x27;DOCr&#x27;, &#x27;zooC&#x27;, &#x27;spChl&#x27;, &#x27;spC&#x27;, &#x27;spP&#x27;, &#x27;spFe&#x27;,\n       &#x27;spCaCO3&#x27;, &#x27;diatChl&#x27;, &#x27;diatC&#x27;, &#x27;diatP&#x27;, &#x27;diatFe&#x27;, &#x27;diatSi&#x27;,\n       &#x27;diazChl&#x27;, &#x27;diazC&#x27;, &#x27;diazP&#x27;, &#x27;diazFe&#x27;], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>tracer_unit</span></div><div class='xr-var-dims'>(ntracers)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;degrees Celsius&#x27; ... &#x27;mmol/m^3&#x27;</div><input id='attrs-3250935f-f3f6-4eb1-90b1-c6fff4eb5103' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3250935f-f3f6-4eb1-90b1-c6fff4eb5103' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-926c8e5e-958b-4dd5-afb0-ea7241aa66c2' class='xr-var-data-in' type='checkbox'><label for='data-926c8e5e-958b-4dd5-afb0-ea7241aa66c2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Tracer concentration unit</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;degrees Celsius&#x27;, &#x27;PSU&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;,\n       &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;,\n       &#x27;mmol/m^3&#x27;, &#x27;meq/m^3&#x27;, &#x27;meq/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;,\n       &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;,\n       &#x27;mg/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mg/m^3&#x27;,\n       &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mg/m^3&#x27;,\n       &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;, &#x27;mmol/m^3&#x27;], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>tracer_long_name</span></div><div class='xr-var-dims'>(ntracers)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;potential temperature&#x27; ... &#x27;dia...</div><input id='attrs-c44fd0d2-2b44-40e1-899b-746fff1c95fa' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c44fd0d2-2b44-40e1-899b-746fff1c95fa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-dcc75a16-0ded-454f-a923-08d85e1c7e33' class='xr-var-data-in' type='checkbox'><label for='data-dcc75a16-0ded-454f-a923-08d85e1c7e33' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Tracer long name</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;potential temperature&#x27;, &#x27;salinity&#x27;,\n       &#x27;dissolved inorganic phosphate&#x27;, &#x27;dissolved inorganic nitrate&#x27;,\n       &#x27;dissolved inorganic silicate&#x27;, &#x27;dissolved ammonia&#x27;,\n       &#x27;dissolved inorganic iron&#x27;, &#x27;iron binding ligand&#x27;,\n       &#x27;dissolved oxygen&#x27;, &#x27;dissolved inorganic carbon&#x27;,\n       &#x27;dissolved inorganic carbon, alternative CO2&#x27;, &#x27;alkalinity&#x27;,\n       &#x27;alkalinity, alternative CO2&#x27;, &#x27;dissolved organic carbon&#x27;,\n       &#x27;dissolved organic nitrogen&#x27;, &#x27;dissolved organic phosphorus&#x27;,\n       &#x27;refractory dissolved organic phosphorus&#x27;,\n       &#x27;refractory dissolved organic nitrogen&#x27;,\n       &#x27;refractory dissolved organic carbon&#x27;, &#x27;zooplankton carbon&#x27;,\n       &#x27;small phytoplankton chlorophyll&#x27;, &#x27;small phytoplankton carbon&#x27;,\n       &#x27;small phytoplankton phosphorous&#x27;, &#x27;small phytoplankton iron&#x27;,\n       &#x27;small phytoplankton CaCO3&#x27;, &#x27;diatom chloropyll&#x27;, &#x27;diatom carbon&#x27;,\n       &#x27;diatom phosphorus&#x27;, &#x27;diatom iron&#x27;, &#x27;diatom silicate&#x27;,\n       &#x27;diazotroph chloropyll&#x27;, &#x27;diazotroph carbon&#x27;,\n       &#x27;diazotroph phosphorus&#x27;, &#x27;diazotroph iron&#x27;], dtype=object)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-73c0876d-b8ac-46e1-821a-9d549d37a141' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-73c0876d-b8ac-46e1-821a-9d549d37a141' class='xr-section-summary'  title='Expand/collapse section'>Indexes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'></ul></div></li><li class='xr-section-item'><input id='section-ab728f79-768a-4f6c-9277-69077058bbdd' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ab728f79-768a-4f6c-9277-69077058bbdd' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Tracer name</dd></dl></div></li></ul></div></div>","content_type":"text/html"},"text/plain":{"content":"<xarray.DataArray 'tracer_name' (ntracers: 34)> Size: 272B\narray(['temp', 'salt', 'PO4', 'NO3', 'SiO3', 'NH4', 'Fe', 'Lig', 'O2',\n       'DIC', 'DIC_ALT_CO2', 'ALK', 'ALK_ALT_CO2', 'DOC', 'DON', 'DOP',\n       'DOPr', 'DONr', 'DOCr', 'zooC', 'spChl', 'spC', 'spP', 'spFe',\n       'spCaCO3', 'diatChl', 'diatC', 'diatP', 'diatFe', 'diatSi',\n       'diazChl', 'diazC', 'diazP', 'diazFe'], dtype=object)\nCoordinates:\n    tracer_name       (ntracers) object 272B 'temp' 'salt' ... 'diazP' 'diazFe'\n    tracer_unit       (ntracers) object 272B 'degrees Celsius' ... 'mmol/m^3'\n    tracer_long_name  (ntracers) object 272B 'potential temperature' ... 'dia...\nDimensions without coordinates: ntracers\nAttributes:\n    long_name:  Tracer name","content_type":"text/plain"}}},"children":[],"key":"oWzMEkCutR"}],"key":"YY4VXndC5M"}],"key":"wHI4JXYkBc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create new array\nnew_tracer = np.zeros_like(riv['river_tracer'].values)\n\n# Temperature varies sinusoidally with time\ntemp = 10 * np.sin(np.linspace(0, np.pi, riv.dims['river_time']))  # 12-month cycle\n\n# Loop through tracers\nfor i, tracer in enumerate(riv['tracer_name'].values):\n    if tracer == 'temp':\n        new_tracer[:, i, :] = temp[:, np.newaxis]  # vary with time\n    elif tracer == 'salt':\n        new_tracer[:, i, :] = 1\n    elif tracer == 'PO4':\n        new_tracer[:, i, :] = 0.4\n    elif tracer == 'NO3':\n        new_tracer[:, i, :] = 6\n    elif tracer == 'SiO3':\n        new_tracer[:, i, :] = 3\n    elif tracer == 'NH4':\n        new_tracer[:, i, :] = 0.4\n    elif tracer == 'Fe':\n        new_tracer[:, i, :] = 0.000197\n    elif tracer == 'Lig':\n        new_tracer[:, i, :] = 0.000465    \n    elif tracer == 'O2':\n        new_tracer[:, i, :] = 360    \n    elif tracer == 'DIC':\n        new_tracer[:, i, :] = 313    \n    elif tracer == 'DIC_ALT_CO2':\n        new_tracer[:, i, :] = 313  \n    elif tracer == 'ALK':\n        new_tracer[:, i, :] = 282 \n    elif tracer == 'ALK_ALT_CO2':\n        new_tracer[:, i, :] = 282 \n    else:\n        new_tracer[:, i, :] = 0.0\nriv['river_tracer'] = (riv['river_tracer'].dims, new_tracer)","key":"QtOUWy3XWi"},{"type":"outputs","id":"Sq5lfvNPy-S-2Sr37QBGf","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"/tmp/ipykernel_3614130/608848569.py:5: FutureWarning: The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.\n  temp = 10 * np.sin(np.linspace(0, np.pi, riv.dims['river_time']))  # 12-month cycle\n"},"children":[],"key":"ZUXoP9PWRB"}],"key":"QFeQt8R43h"}],"key":"qccoeIv888"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"updated_tracer_values=[10,1,0.4,6,3,0.4,0.000197,0.000465,360,313,313,282,282,14,1.18,0.05,0.0257,1.35,26,0.260,0.0442,0.02,0.000171,0.0000004,0.00056,0.0143,0.044,0.000375,0.0000004,0.019,0.0001225,0.001,0.00000066,0.000000046]","key":"EPafyVjB5N"},{"type":"outputs","id":"b8i2PIErSyDaxbFR-1_Ty","children":[],"key":"UcbprdMzLy"}],"key":"SUVvI3LTfi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.plot(temp)","key":"QGRp9AVvwA"},{"type":"outputs","id":"pkUAndpLNpZX-vnSkbOJ3","children":[],"key":"Bb80hG7XkC"}],"key":"qV6aVXB4qV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"riv.to_netcdf(project+model_name+\"_rivers_modified.nc\")","key":"nlwO0I6l2y"},{"type":"outputs","id":"f9Vg5zv5mLLIlly3-Qg5N","children":[],"key":"ZO0RIFgxgj"}],"key":"WtnWeDtbpW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import xarray as xr\n\n# Open your modified file\nriver = xr.open_dataset(project+model_name+\"_rivers_modified.nc\")\nriver.load()\n# Show what tracers exist\nriver['river_tracer'].isel(ntracers=10).isel(nriver=6).plot()\n\n","key":"Q04ctqJ9F1"},{"type":"outputs","id":"s8uiPwCXklVUG7tjLcZ3-","children":[],"key":"wvF1vVRVjW"}],"key":"x5DrSCY31c"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"riv","key":"kuVbMDBGQw"},{"type":"outputs","id":"6LPUBWQJ7PkIwE0oyOrid","children":[],"key":"tI9PZIHqnK"}],"key":"KalfIhMbe1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now, we make another river forcing file with half as much volume","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iyq3e1l5jh"}],"key":"B9AnHh0q0U"}],"key":"d6jLpJB1JM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"riv['river_volume']= riv['river_volume']*0.5","key":"xQ42Rer4oI"},{"type":"outputs","id":"IqNEpCwWa-fpB4hRa0Brq","children":[],"key":"fUZqExfCTl"}],"key":"QMCtjJSqqd"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"riv.to_netcdf(project+model_name+\"_rivers_modified_HALF.nc\")","key":"mEaSINeAQ9"},{"type":"outputs","id":"d_BPZLBSqdw-UG4NlkGea","children":[],"key":"hbbzJTn9T4"}],"key":"eKcFXK5jLq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import xarray as xr\n\n# Open your modified file\nriver1 = xr.open_dataset(project+model_name+\"_rivers_modified.nc\")\nriver1.load()\n# Show what tracers exist\nriver1['river_volume'].isel(nriver=6).plot()\n","key":"oWAuVT8IM7"},{"type":"outputs","id":"OWGYZbURRVMgtn4_Q4Ski","children":[],"key":"TPcBsDMzCB"}],"key":"wrK6jgBuZW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import xarray as xr\n\n# Open your modified file\nriver2 = xr.open_dataset(project+model_name+\"_rivers_modified_HALF.nc\")\nriver2.load()\n# Show what tracers exist\nriver2['river_volume'].isel(nriver=0).plot()","key":"ocQWAddtpb"},{"type":"outputs","id":"6s7F4TQ835BAiXnUnaH0e","children":[],"key":"sWs1KnI6so"}],"key":"wTgI0Hx7wr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"project+model_name+\"_rivers_modified_HALF.nc","key":"xBsDLCjCY4"},{"type":"outputs","id":"F-khg4Xpt--tv-i_bkK_o","children":[],"key":"PT8Qp0KYKY"}],"key":"DhKdi2E2yY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"project+model_name","key":"OBEBkReZof"},{"type":"outputs","id":"H4oEAfBuxNlcV_Yx0marc","children":[],"key":"oA3apm98C2"}],"key":"UWdW605fHm"}],"key":"WcgL9NmvOZ"},"references":{"cite":{"order":[],"data":{}}}}